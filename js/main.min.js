/**
 * @class ItcSlider
 * @version 1.0.0
 * @author https://github.com/itchief
 * @copyright Alexander Maltsev 2020 - 2022
 * @license MIT (https://github.com/itchief/ui-components/blob/master/LICENSE)
 * @tutorial https://itchief.ru/javascript/slider
 */
class ItcSlider{static#t="wrapper";static#e="items";static#s="item";static#i="item_active";static#n="indicator";static#o="indicator_active";static#a="btn_prev";static#r="btn_next";static#l="btn_hide";static#c="transition-none";static#h=[];#u;#d;constructor(t,e={},s="itc-slider__"){this.#d={prefix:s,el:t,elWrapper:t.querySelector(`.${s}${this.constructor.#t}`),elItems:t.querySelector(`.${s}${this.constructor.#e}`),elListItem:t.querySelectorAll(`.${s}${this.constructor.#s}`),btnPrev:t.querySelector(`.${s}${this.constructor.#a}`),btnNext:t.querySelector(`.${s}${this.constructor.#r}`),btnClassHide:s+this.constructor.#l,exOrderMin:0,exOrderMax:0,exItemMin:null,exItemMax:null,exTranslateMin:0,exTranslateMax:0,direction:"next",intervalId:null,isSwiping:!1,swipeX:0},this.#u={loop:!0,autoplay:!1,interval:5e3,refresh:!0,swipe:!0,...e},this.#p(),this.#m()}static getInstance(t){const e=this.#h.find((e=>e.target===t));return e?e.instance:null}static getOrCreateInstance(t,e={},s="itc-slider__"){try{const i="string"==typeof t?document.querySelector(t):t,n=this.getInstance(i);if(n)return n;const o=new this(i,e,s);return this.#h.push({target:i,instance:o}),o}catch(t){console.error(t)}}static createInstances(){document.querySelectorAll('[data-slider="itc-slider"]').forEach((t=>{const e=t.dataset,s={};Object.keys(e).forEach((t=>{if("slider"===t)return;let i=e[t];i="true"===i||i,i="false"!==i&&i,i=Number.isNaN(Number(i))?Number(i):i,s[t]=i})),this.getOrCreateInstance(t,s)}))}next(){this.#d.direction="next",this.#f()}prev(){this.#d.direction="prev",this.#f()}moveTo(t){this.#v(t)}reset(){this.#y()}dispose(){this.#g();const t=this.#d.prefix+this.constructor.#c,e=this.#d.prefix+this.constructor.#i;this.#b("stop"),this.#d.elItems.classList.add(t),this.#d.elItems.style.transform="",this.#d.elListItem.forEach((t=>{t.style.transform="",t.classList.remove(e)}));const s=`${this.#d.prefix}${this.constructor.#o}`;document.querySelectorAll(`.${s}`).forEach((t=>{t.classList.remove(s)})),this.#d.elItems.offsetHeight,this.#d.elItems.classList.remove(t);const i=this.constructor.#h.findIndex((t=>t.target===this.#d.el));this.constructor.#h.splice(i,1)}#w(t){const e=this.#d.prefix+this.constructor.#a,s=this.#d.prefix+this.constructor.#r;if(this.#b("stop"),t.target.closest(`.${e}`)||t.target.closest(`.${s}`))this.#d.direction=t.target.closest(`.${e}`)?"prev":"next",this.#f();else if(t.target.dataset.slideTo){const e=parseInt(t.target.dataset.slideTo,10);this.#v(e)}this.#u.loop&&this.#b()}#I(){this.#b("stop")}#E(){this.#b()}#x(){window.requestAnimationFrame(this.#y.bind(this))}#S(t){this.#b("stop");const e=0===t.type.search("touch")?t.touches[0]:t;this.#d.swipeX=e.clientX,this.#d.isSwiping=!0}#T(t){if(!this.#d.isSwiping)return;const e=0===t.type.search("touch")?t.changedTouches[0]:t,s=this.#d.swipeX-e.clientX;s>50?(this.#d.direction="next",this.#f()):s<-50&&(this.#d.direction="prev",this.#f()),this.#d.isSwiping=!1,this.#u.loop&&this.#b()}#C(){this.#d.isBalancing||(this.#d.isBalancing=!0,window.requestAnimationFrame(this.#L.bind(this)))}#M(){this.#d.isBalancing=!1}#A(t){t.preventDefault()}#_(){"hidden"===document.visibilityState?this.#b("stop"):"visible"===document.visibilityState&&this.#u.loop&&this.#b()}#m(){this.#d.events={click:[this.#d.el,this.#w.bind(this),!0],mouseenter:[this.#d.el,this.#I.bind(this),!0],mouseleave:[this.#d.el,this.#E.bind(this),!0],resize:[window,this.#x.bind(this),this.#u.refresh],"itc-slider__transition-start":[this.#d.elItems,this.#C.bind(this),this.#u.loop],transitionend:[this.#d.elItems,this.#M.bind(this),this.#u.loop],touchstart:[this.#d.el,this.#S.bind(this),this.#u.swipe],mousedown:[this.#d.el,this.#S.bind(this),this.#u.swipe],touchend:[document,this.#T.bind(this),this.#u.swipe],mouseup:[document,this.#T.bind(this),this.#u.swipe],dragstart:[this.#d.el,this.#A.bind(this),!0],visibilitychange:[document,this.#_.bind(this),!0]},Object.keys(this.#d.events).forEach((t=>{if(this.#d.events[t][2]){const e=this.#d.events[t][0],s=this.#d.events[t][1];e.addEventListener(t,s)}}))}#g(){Object.keys(this.#d.events).forEach((t=>{if(this.#d.events[t][2]){const e=this.#d.events[t][0],s=this.#d.events[t][1];e.removeEventListener(t,s)}}))}#b(t){if(this.#u.autoplay)return"stop"===t?(clearInterval(this.#d.intervalId),void(this.#d.intervalId=null)):void(null===this.#d.intervalId&&(this.#d.intervalId=setInterval((()=>{this.#d.direction="next",this.#f()}),this.#u.interval)))}#L(){if(!this.#d.isBalancing)return;const t=this.#d.elWrapper.getBoundingClientRect(),e=t.width/this.#d.countActiveItems/2,s=this.#d.elListItem.length;if("next"===this.#d.direction){if(this.#d.exItemMin.getBoundingClientRect().right<t.left-e){const t=this.#d.els.find((t=>t.el===this.#d.exItemMin));t.order=this.#d.exOrderMin+s;const e=this.#d.exTranslateMin+s*this.#d.width;t.translate=e,this.#d.exItemMin.style.transform=`translate3D(${e}px, 0px, 0.1px)`,this.#N()}}else{if(this.#d.exItemMax.getBoundingClientRect().left>t.right+e){const t=this.#d.els.find((t=>t.el===this.#d.exItemMax));t.order=this.#d.exOrderMax-s;const e=this.#d.exTranslateMax-s*this.#d.width;t.translate=e,this.#d.exItemMax.style.transform=`translate3D(${e}px, 0px, 0.1px)`,this.#N()}}window.requestAnimationFrame(this.#L.bind(this))}#O(){const t=this.#d.prefix+this.constructor.#i;this.#d.activeItems.forEach(((e,s)=>{e?this.#d.elListItem[s].classList.add(t):this.#d.elListItem[s].classList.remove(t);const i=this.#d.el.querySelectorAll(`.${this.#d.prefix}${this.constructor.#n}`);i.length&&e?i[s].classList.add(`${this.#d.prefix}${this.constructor.#o}`):i.length&&!e&&i[s].classList.remove(`${this.#d.prefix}${this.constructor.#o}`)}))}#f(){const t="next"===this.#d.direction?-this.#d.width:this.#d.width,e=this.#d.translate+t;if(!this.#u.loop){const t=this.#d.width*(this.#d.elListItem.length-this.#d.countActiveItems);if(e<-t||e>0)return;this.#d.btnPrev&&(this.#d.btnPrev.classList.remove(this.#d.btnClassHide),this.#d.btnNext.classList.remove(this.#d.btnClassHide)),this.#d.btnPrev&&e===-t?this.#d.btnNext.classList.add(this.#d.btnClassHide):this.#d.btnPrev&&0===e&&this.#d.btnPrev.classList.add(this.#d.btnClassHide)}"next"===this.#d.direction?this.#d.activeItems=[...this.#d.activeItems.slice(-1),...this.#d.activeItems.slice(0,-1)]:this.#d.activeItems=[...this.#d.activeItems.slice(1),...this.#d.activeItems.slice(0,1)],this.#O(),this.#d.translate=e,this.#d.elItems.style.transform=`translate3D(${e}px, 0px, 0.1px)`,this.#d.elItems.dispatchEvent(new CustomEvent("itc-slider__transition-start",{bubbles:!0}))}#v(t){const e=this.#d.activeItems.reduce(((e,s,i)=>{const n=s?t-i:e;return Math.abs(n)<Math.abs(e)?n:e}),this.#d.activeItems.length);if(0!==e){this.#d.direction=e>0?"next":"prev";for(let t=0;t<Math.abs(e);t++)this.#f()}}#p(){this.#d.els=[],this.#d.translate=0,this.#d.activeItems=[],this.#d.isBalancing=!1,this.#d.width=this.#d.elListItem[0].getBoundingClientRect().width;const t=this.#d.elWrapper.getBoundingClientRect().width;if(this.#d.countActiveItems=Math.round(t/this.#d.width),this.#d.elListItem.forEach(((t,e)=>{t.style.transform="",this.#d.activeItems.push(e<this.#d.countActiveItems?1:0),this.#d.els.push({el:t,index:e,order:e,translate:0})})),this.#u.loop){const t=this.#d.elListItem.length-1,e=-(t+1)*this.#d.width;this.#d.elListItem[t].style.transform=`translate3D(${e}px, 0px, 0.1px)`,this.#d.els[t].order=-1,this.#d.els[t].translate=e,this.#N()}else this.#d.btnPrev&&this.#d.btnPrev.classList.add(this.#d.btnClassHide);this.#O(),this.#b()}#y(){const t=this.#d.prefix+this.constructor.#c,e=this.#d.elListItem[0].getBoundingClientRect().width,s=this.#d.elWrapper.getBoundingClientRect().width,i=Math.round(s/e);e===this.#d.width&&i===this.#d.countActiveItems||(this.#b("stop"),this.#d.elItems.classList.add(t),this.#d.elItems.style.transform="translate3D(0px, 0px, 0.1px)",this.#p(),window.requestAnimationFrame((()=>{this.#d.elItems.classList.remove(t)})))}#N(){const t=this.#d.els.map((t=>t.el)),e=this.#d.els.map((t=>t.order));this.#d.exOrderMin=Math.min(...e),this.#d.exOrderMax=Math.max(...e);const s=e.indexOf(this.#d.exOrderMin),i=e.indexOf(this.#d.exOrderMax);this.#d.exItemMin=t[s],this.#d.exItemMax=t[i],this.#d.exTranslateMin=this.#d.els[s].translate,this.#d.exTranslateMax=this.#d.els[i].translate}}ItcSlider.createInstances(),function(){var t,e,s,i,n,o=function(t,e){return function(){return t.apply(e,arguments)}},a=[].indexOf||function(t){for(var e=0,s=this.length;e<s;e++)if(e in this&&this[e]===t)return e;return-1};e=function(){function t(){}return t.prototype.extend=function(t,e){var s,i;for(s in e)i=e[s],null==t[s]&&(t[s]=i);return t},t.prototype.isMobile=function(t){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(t)},t.prototype.createEvent=function(t,e,s,i){var n;return null==e&&(e=!1),null==s&&(s=!1),null==i&&(i=null),null!=document.createEvent?(n=document.createEvent("CustomEvent")).initCustomEvent(t,e,s,i):null!=document.createEventObject?(n=document.createEventObject()).eventType=t:n.eventName=t,n},t.prototype.emitEvent=function(t,e){return null!=t.dispatchEvent?t.dispatchEvent(e):e in(null!=t)?t[e]():"on"+e in(null!=t)?t["on"+e]():void 0},t.prototype.addEvent=function(t,e,s){return null!=t.addEventListener?t.addEventListener(e,s,!1):null!=t.attachEvent?t.attachEvent("on"+e,s):t[e]=s},t.prototype.removeEvent=function(t,e,s){return null!=t.removeEventListener?t.removeEventListener(e,s,!1):null!=t.detachEvent?t.detachEvent("on"+e,s):delete t[e]},t.prototype.innerHeight=function(){return"innerHeight"in window?window.innerHeight:document.documentElement.clientHeight},t}(),s=this.WeakMap||this.MozWeakMap||(s=function(){function t(){this.keys=[],this.values=[]}return t.prototype.get=function(t){var e,s,i,n;for(e=s=0,i=(n=this.keys).length;s<i;e=++s)if(n[e]===t)return this.values[e]},t.prototype.set=function(t,e){var s,i,n,o;for(s=i=0,n=(o=this.keys).length;i<n;s=++i)if(o[s]===t)return void(this.values[s]=e);return this.keys.push(t),this.values.push(e)},t}()),t=this.MutationObserver||this.WebkitMutationObserver||this.MozMutationObserver||(t=function(){function t(){"undefined"!=typeof console&&null!==console&&console.warn("MutationObserver is not supported by your browser."),"undefined"!=typeof console&&null!==console&&console.warn("WOW.js cannot detect dom mutations, please call .sync() after loading new content.")}return t.notSupported=!0,t.prototype.observe=function(){},t}()),i=this.getComputedStyle||function(t,e){return this.getPropertyValue=function(e){var s;return"float"===e&&(e="styleFloat"),n.test(e)&&e.replace(n,(function(t,e){return e.toUpperCase()})),(null!=(s=t.currentStyle)?s[e]:void 0)||null},this},n=/(\-([a-z]){1})/g,this.WOW=function(){function n(t){null==t&&(t={}),this.scrollCallback=o(this.scrollCallback,this),this.scrollHandler=o(this.scrollHandler,this),this.resetAnimation=o(this.resetAnimation,this),this.start=o(this.start,this),this.scrolled=!0,this.config=this.util().extend(t,this.defaults),null!=t.scrollContainer&&(this.config.scrollContainer=document.querySelector(t.scrollContainer)),this.animationNameCache=new s,this.wowEvent=this.util().createEvent(this.config.boxClass)}return n.prototype.defaults={boxClass:"wow",animateClass:"animated",offset:0,mobile:!0,live:!0,callback:null,scrollContainer:null},n.prototype.init=function(){var t;return this.element=window.document.documentElement,"interactive"===(t=document.readyState)||"complete"===t?this.start():this.util().addEvent(document,"DOMContentLoaded",this.start),this.finished=[]},n.prototype.start=function(){var e,s,i,n,o;if(this.stopped=!1,this.boxes=function(){var t,s,i,n;for(n=[],t=0,s=(i=this.element.querySelectorAll("."+this.config.boxClass)).length;t<s;t++)e=i[t],n.push(e);return n}.call(this),this.all=function(){var t,s,i,n;for(n=[],t=0,s=(i=this.boxes).length;t<s;t++)e=i[t],n.push(e);return n}.call(this),this.boxes.length)if(this.disabled())this.resetStyle();else for(s=0,i=(n=this.boxes).length;s<i;s++)e=n[s],this.applyStyle(e,!0);if(this.disabled()||(this.util().addEvent(this.config.scrollContainer||window,"scroll",this.scrollHandler),this.util().addEvent(window,"resize",this.scrollHandler),this.interval=setInterval(this.scrollCallback,50)),this.config.live)return new t((o=this,function(t){var e,s,i,n,a;for(a=[],e=0,s=t.length;e<s;e++)n=t[e],a.push(function(){var t,e,s,o;for(o=[],t=0,e=(s=n.addedNodes||[]).length;t<e;t++)i=s[t],o.push(this.doSync(i));return o}.call(o));return a})).observe(document.body,{childList:!0,subtree:!0})},n.prototype.stop=function(){if(this.stopped=!0,this.util().removeEvent(this.config.scrollContainer||window,"scroll",this.scrollHandler),this.util().removeEvent(window,"resize",this.scrollHandler),null!=this.interval)return clearInterval(this.interval)},n.prototype.sync=function(e){if(t.notSupported)return this.doSync(this.element)},n.prototype.doSync=function(t){var e,s,i,n,o;if(null==t&&(t=this.element),1===t.nodeType){for(o=[],s=0,i=(n=(t=t.parentNode||t).querySelectorAll("."+this.config.boxClass)).length;s<i;s++)e=n[s],a.call(this.all,e)<0?(this.boxes.push(e),this.all.push(e),this.stopped||this.disabled()?this.resetStyle():this.applyStyle(e,!0),o.push(this.scrolled=!0)):o.push(void 0);return o}},n.prototype.show=function(t){return this.applyStyle(t),t.className=t.className+" "+this.config.animateClass,null!=this.config.callback&&this.config.callback(t),this.util().emitEvent(t,this.wowEvent),this.util().addEvent(t,"animationend",this.resetAnimation),this.util().addEvent(t,"oanimationend",this.resetAnimation),this.util().addEvent(t,"webkitAnimationEnd",this.resetAnimation),this.util().addEvent(t,"MSAnimationEnd",this.resetAnimation),t},n.prototype.applyStyle=function(t,e){var s,i,n,o;return i=t.getAttribute("data-wow-duration"),s=t.getAttribute("data-wow-delay"),n=t.getAttribute("data-wow-iteration"),this.animate((o=this,function(){return o.customStyle(t,e,i,s,n)}))},n.prototype.animate="requestAnimationFrame"in window?function(t){return window.requestAnimationFrame(t)}:function(t){return t()},n.prototype.resetStyle=function(){var t,e,s,i,n;for(n=[],e=0,s=(i=this.boxes).length;e<s;e++)t=i[e],n.push(t.style.visibility="visible");return n},n.prototype.resetAnimation=function(t){var e;if(t.type.toLowerCase().indexOf("animationend")>=0)return(e=t.target||t.srcElement).className=e.className.replace(this.config.animateClass,"").trim()},n.prototype.customStyle=function(t,e,s,i,n){return e&&this.cacheAnimationName(t),t.style.visibility=e?"hidden":"visible",s&&this.vendorSet(t.style,{animationDuration:s}),i&&this.vendorSet(t.style,{animationDelay:i}),n&&this.vendorSet(t.style,{animationIterationCount:n}),this.vendorSet(t.style,{animationName:e?"none":this.cachedAnimationName(t)}),t},n.prototype.vendors=["moz","webkit"],n.prototype.vendorSet=function(t,e){var s,i,n,o;for(s in i=[],e)n=e[s],t[""+s]=n,i.push(function(){var e,i,a,r;for(r=[],e=0,i=(a=this.vendors).length;e<i;e++)o=a[e],r.push(t[""+o+s.charAt(0).toUpperCase()+s.substr(1)]=n);return r}.call(this));return i},n.prototype.vendorCSS=function(t,e){var s,n,o,a,r,l;for(a=(r=i(t)).getPropertyCSSValue(e),s=0,n=(o=this.vendors).length;s<n;s++)l=o[s],a=a||r.getPropertyCSSValue("-"+l+"-"+e);return a},n.prototype.animationName=function(t){var e;try{e=this.vendorCSS(t,"animation-name").cssText}catch(s){e=i(t).getPropertyValue("animation-name")}return"none"===e?"":e},n.prototype.cacheAnimationName=function(t){return this.animationNameCache.set(t,this.animationName(t))},n.prototype.cachedAnimationName=function(t){return this.animationNameCache.get(t)},n.prototype.scrollHandler=function(){return this.scrolled=!0},n.prototype.scrollCallback=function(){var t;if(this.scrolled&&(this.scrolled=!1,this.boxes=function(){var e,s,i,n;for(n=[],e=0,s=(i=this.boxes).length;e<s;e++)(t=i[e])&&(this.isVisible(t)?this.show(t):n.push(t));return n}.call(this),!this.boxes.length&&!this.config.live))return this.stop()},n.prototype.offsetTop=function(t){for(var e;void 0===t.offsetTop;)t=t.parentNode;for(e=t.offsetTop;t=t.offsetParent;)e+=t.offsetTop;return e},n.prototype.isVisible=function(t){var e,s,i,n,o;return s=t.getAttribute("data-wow-offset")||this.config.offset,n=(o=this.config.scrollContainer&&this.config.scrollContainer.scrollTop||window.pageYOffset)+Math.min(this.element.clientHeight,this.util().innerHeight())-s,e=(i=this.offsetTop(t))+t.clientHeight,i<=n&&e>=o},n.prototype.util=function(){return null!=this._util?this._util:this._util=new e},n.prototype.disabled=function(){return!this.config.mobile&&this.util().isMobile(navigator.userAgent)},n}()}.call(this),function(){"use strict";let t,e=document.querySelector(".header"),s=!1;window.addEventListener("scroll",(()=>{window.pageYOffset>=50?(e.classList.add("reduced"),t=!0):(e.classList.remove("reduced"),t=!1)}));let i=function(){document.querySelector(".modal").classList.toggle("active"),n.classList.toggle("nav__burger--active"),e.classList.remove("reduced"),s=!s,t&&!s&&e.classList.add("reduced")},n=document.querySelector(".nav__burger"),o=document.querySelector(".modal__close-area"),a=document.querySelectorAll(".modal-nav__item");for(let t of a)t.onclick=i;function r(t,e,s){var i,n=t.querySelectorAll('a[href^="#"]');function o(t){t.preventDefault(),function(t,e,s){var i=window.scrollY||document.documentElement.scrollTop,n=0;t=t||0,e=e||2e3,s=s||"easeOutSine";var o=Math.max(.1,Math.min(Math.abs(i-t)/e,.8)),a={easeOutSine:function(t){return Math.sin(t*(Math.PI/2))},easeInOutSine:function(t){return-.5*(Math.cos(Math.PI*t)-1)},easeInOutQuint:function(t){return(t/=.5)<1?.5*Math.pow(t,5):.5*(Math.pow(t-2,5)+2)}};!function e(){var r=(n+=1/60)/o,l=a[s](r);r<1?(requestAnimFrame(e),window.scrollTo(0,i+10+(t-i)*l)):window.scrollTo(0,t+2)}()}(document.querySelector(this.hash).offsetTop,e,s)}for(i=0;i<n.length;i++){n[i].addEventListener("click",o)}}function l(t,e,s){r(t,e,s),document.addEventListener("scroll",(function(){!function(t){for(var e=window.scrollY,s=t.querySelectorAll('a[href^="#"]'),i=0;i<s.length;i++){var n=s[i],o=document.querySelector(n.getAttribute("href"));o.offsetTop<=e&&o.offsetTop+o.clientHeight>e?n.classList.add("active"):n.classList.remove("active")}}(t)}))}n.onclick=i,o.onclick=i,window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)};let c=document.querySelector(".header-nav__list"),h=document.querySelector(".footer-nav__list"),u=document.querySelector(".modal-nav__list");l(c,1e3,"easeInOutSine"),l(h,1e3,"easeInOutSine"),l(u,1e3,"easeInOutSine");const d=document.querySelectorAll('a[href*="#"]');for(let t of d)t.addEventListener("click",(function(e){e.preventDefault();const s=t.getAttribute("href").substr(1);document.getElementById(s).scrollIntoView({behavior:"smooth",block:"start"})}));document.addEventListener("DOMContentLoaded",(()=>{ItcSlider.getOrCreateInstance(".itc-slider")})),(new WOW).init();let p=document.querySelector(".banner-form"),m=document.querySelector(".newsletter-form");async function f(t){t.preventDefault();let e=new FormData(this);if((await fetch("php/sendMail.php",{method:"POST",body:e})).ok){let t=this.querySelectorAll("input");for(let e of t)e.disabled=!0;let e=this.querySelector('input[type="submit"');e.style.color="rgba(0, 0, 0, 0)",setTimeout((()=>e.value="comlpete"),150),setTimeout((()=>e.style.removeProperty("color")),150)}else alert("Ошибка, повторите отправку \n(На самом деле можете не повторять, данный хостинг не поддерживает PHP, поэтому, хоть весь код для рассылки и готов, писем не будет. И да, именно из-за этого в консоли так много ошибок)")}p.addEventListener("submit",f),m.addEventListener("submit",f)}();